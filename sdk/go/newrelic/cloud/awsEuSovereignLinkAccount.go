// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package cloud

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-newrelic/sdk/v5/go/newrelic/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Use this resource to link an AWS EU Sovereign account to New Relic.
//
// ## Prerequisite
//
// Setup is required in AWS EU Sovereign for this resource to work properly. To link an AWS EU Sovereign account to New Relic, you need an AWS EU Sovereign Cloud account.
//
// Using a metric stream to New Relic is the only supported method for AWS EU Sovereign Cloud to get metrics into New Relic for the majority of AWS services. Follow the [steps outlined here](https://docs-preview.newrelic.com/docs/aws-eu-sovereign-cloud-integration) to set up a metric stream.
//
// To pull data from AWS EU Sovereign for services not supported by CloudWatch Metric Streams (Billing, CloudTrail and X-Ray), complete the [steps outlined here](https://docs-preview.newrelic.com/docs/aws-eu-sovereign-cloud-integration).
//
// ## Example Usage
//
// You can also use the full example, including the AWS set up, found in our guides.
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-newrelic/sdk/v5/go/newrelic/cloud"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := cloud.NewAwsEuSovereignLinkAccount(ctx, "foo", &cloud.AwsEuSovereignLinkAccountArgs{
//				AccountId:            pulumi.String("1234567"),
//				Name:                 pulumi.String("My New Relic - AWS EU Sovereign Linked Account"),
//				MetricCollectionMode: pulumi.String("PUSH"),
//				Arn:                  pulumi.String("arn:aws-eusc:iam::123456789012:role/NewRelicInfrastructure-Integrations"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Linked AWS EU Sovereign accounts can be imported using the `id`, e.g.
type AwsEuSovereignLinkAccount struct {
	pulumi.CustomResourceState

	// The New Relic account ID to operate on. This allows the user to override the `accountId` attribute set on the provider. Defaults to the environment variable `NEW_RELIC_ACCOUNT_ID`, if not specified in the configuration.
	AccountId pulumi.StringOutput `pulumi:"accountId"`
	// The Amazon Resource Name (ARN) of the IAM role.
	Arn pulumi.StringOutput `pulumi:"arn"`
	// How metrics will be collected. Use `PUSH` for metric stream, `PULL` for API polling of the 3 services not supported by metric streams (Billing, CloudTrail and X-Ray), or `BOTH` for both methods. Defaults to `PUSH`, if not specified in the configuration.
	MetricCollectionMode pulumi.StringPtrOutput `pulumi:"metricCollectionMode"`
	// The name/identifier of the AWS EU Sovereign - New Relic 'linked' account.
	//
	// > **WARNING:** Updating any of the aforementioned attributes (except `name`) of a `cloud.AwsEuSovereignLinkAccount` resource that has been applied would **force a replacement** of the resource (destruction of the resource, followed by the creation of a new resource). Please carefully review the output of `pulumi preview`, which would clearly indicate a replacement of this resource, before performing a `pulumi up`.
	//
	// > **NOTE:** This resource requires the New Relic provider to be configured with `region = "EU"` or the `NEW_RELIC_REGION=EU` environment variable.
	Name pulumi.StringOutput `pulumi:"name"`
}

// NewAwsEuSovereignLinkAccount registers a new resource with the given unique name, arguments, and options.
func NewAwsEuSovereignLinkAccount(ctx *pulumi.Context,
	name string, args *AwsEuSovereignLinkAccountArgs, opts ...pulumi.ResourceOption) (*AwsEuSovereignLinkAccount, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Arn == nil {
		return nil, errors.New("invalid value for required argument 'Arn'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource AwsEuSovereignLinkAccount
	err := ctx.RegisterResource("newrelic:cloud/awsEuSovereignLinkAccount:AwsEuSovereignLinkAccount", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetAwsEuSovereignLinkAccount gets an existing AwsEuSovereignLinkAccount resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetAwsEuSovereignLinkAccount(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *AwsEuSovereignLinkAccountState, opts ...pulumi.ResourceOption) (*AwsEuSovereignLinkAccount, error) {
	var resource AwsEuSovereignLinkAccount
	err := ctx.ReadResource("newrelic:cloud/awsEuSovereignLinkAccount:AwsEuSovereignLinkAccount", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering AwsEuSovereignLinkAccount resources.
type awsEuSovereignLinkAccountState struct {
	// The New Relic account ID to operate on. This allows the user to override the `accountId` attribute set on the provider. Defaults to the environment variable `NEW_RELIC_ACCOUNT_ID`, if not specified in the configuration.
	AccountId *string `pulumi:"accountId"`
	// The Amazon Resource Name (ARN) of the IAM role.
	Arn *string `pulumi:"arn"`
	// How metrics will be collected. Use `PUSH` for metric stream, `PULL` for API polling of the 3 services not supported by metric streams (Billing, CloudTrail and X-Ray), or `BOTH` for both methods. Defaults to `PUSH`, if not specified in the configuration.
	MetricCollectionMode *string `pulumi:"metricCollectionMode"`
	// The name/identifier of the AWS EU Sovereign - New Relic 'linked' account.
	//
	// > **WARNING:** Updating any of the aforementioned attributes (except `name`) of a `cloud.AwsEuSovereignLinkAccount` resource that has been applied would **force a replacement** of the resource (destruction of the resource, followed by the creation of a new resource). Please carefully review the output of `pulumi preview`, which would clearly indicate a replacement of this resource, before performing a `pulumi up`.
	//
	// > **NOTE:** This resource requires the New Relic provider to be configured with `region = "EU"` or the `NEW_RELIC_REGION=EU` environment variable.
	Name *string `pulumi:"name"`
}

type AwsEuSovereignLinkAccountState struct {
	// The New Relic account ID to operate on. This allows the user to override the `accountId` attribute set on the provider. Defaults to the environment variable `NEW_RELIC_ACCOUNT_ID`, if not specified in the configuration.
	AccountId pulumi.StringPtrInput
	// The Amazon Resource Name (ARN) of the IAM role.
	Arn pulumi.StringPtrInput
	// How metrics will be collected. Use `PUSH` for metric stream, `PULL` for API polling of the 3 services not supported by metric streams (Billing, CloudTrail and X-Ray), or `BOTH` for both methods. Defaults to `PUSH`, if not specified in the configuration.
	MetricCollectionMode pulumi.StringPtrInput
	// The name/identifier of the AWS EU Sovereign - New Relic 'linked' account.
	//
	// > **WARNING:** Updating any of the aforementioned attributes (except `name`) of a `cloud.AwsEuSovereignLinkAccount` resource that has been applied would **force a replacement** of the resource (destruction of the resource, followed by the creation of a new resource). Please carefully review the output of `pulumi preview`, which would clearly indicate a replacement of this resource, before performing a `pulumi up`.
	//
	// > **NOTE:** This resource requires the New Relic provider to be configured with `region = "EU"` or the `NEW_RELIC_REGION=EU` environment variable.
	Name pulumi.StringPtrInput
}

func (AwsEuSovereignLinkAccountState) ElementType() reflect.Type {
	return reflect.TypeOf((*awsEuSovereignLinkAccountState)(nil)).Elem()
}

type awsEuSovereignLinkAccountArgs struct {
	// The New Relic account ID to operate on. This allows the user to override the `accountId` attribute set on the provider. Defaults to the environment variable `NEW_RELIC_ACCOUNT_ID`, if not specified in the configuration.
	AccountId *string `pulumi:"accountId"`
	// The Amazon Resource Name (ARN) of the IAM role.
	Arn string `pulumi:"arn"`
	// How metrics will be collected. Use `PUSH` for metric stream, `PULL` for API polling of the 3 services not supported by metric streams (Billing, CloudTrail and X-Ray), or `BOTH` for both methods. Defaults to `PUSH`, if not specified in the configuration.
	MetricCollectionMode *string `pulumi:"metricCollectionMode"`
	// The name/identifier of the AWS EU Sovereign - New Relic 'linked' account.
	//
	// > **WARNING:** Updating any of the aforementioned attributes (except `name`) of a `cloud.AwsEuSovereignLinkAccount` resource that has been applied would **force a replacement** of the resource (destruction of the resource, followed by the creation of a new resource). Please carefully review the output of `pulumi preview`, which would clearly indicate a replacement of this resource, before performing a `pulumi up`.
	//
	// > **NOTE:** This resource requires the New Relic provider to be configured with `region = "EU"` or the `NEW_RELIC_REGION=EU` environment variable.
	Name *string `pulumi:"name"`
}

// The set of arguments for constructing a AwsEuSovereignLinkAccount resource.
type AwsEuSovereignLinkAccountArgs struct {
	// The New Relic account ID to operate on. This allows the user to override the `accountId` attribute set on the provider. Defaults to the environment variable `NEW_RELIC_ACCOUNT_ID`, if not specified in the configuration.
	AccountId pulumi.StringPtrInput
	// The Amazon Resource Name (ARN) of the IAM role.
	Arn pulumi.StringInput
	// How metrics will be collected. Use `PUSH` for metric stream, `PULL` for API polling of the 3 services not supported by metric streams (Billing, CloudTrail and X-Ray), or `BOTH` for both methods. Defaults to `PUSH`, if not specified in the configuration.
	MetricCollectionMode pulumi.StringPtrInput
	// The name/identifier of the AWS EU Sovereign - New Relic 'linked' account.
	//
	// > **WARNING:** Updating any of the aforementioned attributes (except `name`) of a `cloud.AwsEuSovereignLinkAccount` resource that has been applied would **force a replacement** of the resource (destruction of the resource, followed by the creation of a new resource). Please carefully review the output of `pulumi preview`, which would clearly indicate a replacement of this resource, before performing a `pulumi up`.
	//
	// > **NOTE:** This resource requires the New Relic provider to be configured with `region = "EU"` or the `NEW_RELIC_REGION=EU` environment variable.
	Name pulumi.StringPtrInput
}

func (AwsEuSovereignLinkAccountArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*awsEuSovereignLinkAccountArgs)(nil)).Elem()
}

type AwsEuSovereignLinkAccountInput interface {
	pulumi.Input

	ToAwsEuSovereignLinkAccountOutput() AwsEuSovereignLinkAccountOutput
	ToAwsEuSovereignLinkAccountOutputWithContext(ctx context.Context) AwsEuSovereignLinkAccountOutput
}

func (*AwsEuSovereignLinkAccount) ElementType() reflect.Type {
	return reflect.TypeOf((**AwsEuSovereignLinkAccount)(nil)).Elem()
}

func (i *AwsEuSovereignLinkAccount) ToAwsEuSovereignLinkAccountOutput() AwsEuSovereignLinkAccountOutput {
	return i.ToAwsEuSovereignLinkAccountOutputWithContext(context.Background())
}

func (i *AwsEuSovereignLinkAccount) ToAwsEuSovereignLinkAccountOutputWithContext(ctx context.Context) AwsEuSovereignLinkAccountOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AwsEuSovereignLinkAccountOutput)
}

// AwsEuSovereignLinkAccountArrayInput is an input type that accepts AwsEuSovereignLinkAccountArray and AwsEuSovereignLinkAccountArrayOutput values.
// You can construct a concrete instance of `AwsEuSovereignLinkAccountArrayInput` via:
//
//	AwsEuSovereignLinkAccountArray{ AwsEuSovereignLinkAccountArgs{...} }
type AwsEuSovereignLinkAccountArrayInput interface {
	pulumi.Input

	ToAwsEuSovereignLinkAccountArrayOutput() AwsEuSovereignLinkAccountArrayOutput
	ToAwsEuSovereignLinkAccountArrayOutputWithContext(context.Context) AwsEuSovereignLinkAccountArrayOutput
}

type AwsEuSovereignLinkAccountArray []AwsEuSovereignLinkAccountInput

func (AwsEuSovereignLinkAccountArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*AwsEuSovereignLinkAccount)(nil)).Elem()
}

func (i AwsEuSovereignLinkAccountArray) ToAwsEuSovereignLinkAccountArrayOutput() AwsEuSovereignLinkAccountArrayOutput {
	return i.ToAwsEuSovereignLinkAccountArrayOutputWithContext(context.Background())
}

func (i AwsEuSovereignLinkAccountArray) ToAwsEuSovereignLinkAccountArrayOutputWithContext(ctx context.Context) AwsEuSovereignLinkAccountArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AwsEuSovereignLinkAccountArrayOutput)
}

// AwsEuSovereignLinkAccountMapInput is an input type that accepts AwsEuSovereignLinkAccountMap and AwsEuSovereignLinkAccountMapOutput values.
// You can construct a concrete instance of `AwsEuSovereignLinkAccountMapInput` via:
//
//	AwsEuSovereignLinkAccountMap{ "key": AwsEuSovereignLinkAccountArgs{...} }
type AwsEuSovereignLinkAccountMapInput interface {
	pulumi.Input

	ToAwsEuSovereignLinkAccountMapOutput() AwsEuSovereignLinkAccountMapOutput
	ToAwsEuSovereignLinkAccountMapOutputWithContext(context.Context) AwsEuSovereignLinkAccountMapOutput
}

type AwsEuSovereignLinkAccountMap map[string]AwsEuSovereignLinkAccountInput

func (AwsEuSovereignLinkAccountMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*AwsEuSovereignLinkAccount)(nil)).Elem()
}

func (i AwsEuSovereignLinkAccountMap) ToAwsEuSovereignLinkAccountMapOutput() AwsEuSovereignLinkAccountMapOutput {
	return i.ToAwsEuSovereignLinkAccountMapOutputWithContext(context.Background())
}

func (i AwsEuSovereignLinkAccountMap) ToAwsEuSovereignLinkAccountMapOutputWithContext(ctx context.Context) AwsEuSovereignLinkAccountMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AwsEuSovereignLinkAccountMapOutput)
}

type AwsEuSovereignLinkAccountOutput struct{ *pulumi.OutputState }

func (AwsEuSovereignLinkAccountOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**AwsEuSovereignLinkAccount)(nil)).Elem()
}

func (o AwsEuSovereignLinkAccountOutput) ToAwsEuSovereignLinkAccountOutput() AwsEuSovereignLinkAccountOutput {
	return o
}

func (o AwsEuSovereignLinkAccountOutput) ToAwsEuSovereignLinkAccountOutputWithContext(ctx context.Context) AwsEuSovereignLinkAccountOutput {
	return o
}

// The New Relic account ID to operate on. This allows the user to override the `accountId` attribute set on the provider. Defaults to the environment variable `NEW_RELIC_ACCOUNT_ID`, if not specified in the configuration.
func (o AwsEuSovereignLinkAccountOutput) AccountId() pulumi.StringOutput {
	return o.ApplyT(func(v *AwsEuSovereignLinkAccount) pulumi.StringOutput { return v.AccountId }).(pulumi.StringOutput)
}

// The Amazon Resource Name (ARN) of the IAM role.
func (o AwsEuSovereignLinkAccountOutput) Arn() pulumi.StringOutput {
	return o.ApplyT(func(v *AwsEuSovereignLinkAccount) pulumi.StringOutput { return v.Arn }).(pulumi.StringOutput)
}

// How metrics will be collected. Use `PUSH` for metric stream, `PULL` for API polling of the 3 services not supported by metric streams (Billing, CloudTrail and X-Ray), or `BOTH` for both methods. Defaults to `PUSH`, if not specified in the configuration.
func (o AwsEuSovereignLinkAccountOutput) MetricCollectionMode() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *AwsEuSovereignLinkAccount) pulumi.StringPtrOutput { return v.MetricCollectionMode }).(pulumi.StringPtrOutput)
}

// The name/identifier of the AWS EU Sovereign - New Relic 'linked' account.
//
// > **WARNING:** Updating any of the aforementioned attributes (except `name`) of a `cloud.AwsEuSovereignLinkAccount` resource that has been applied would **force a replacement** of the resource (destruction of the resource, followed by the creation of a new resource). Please carefully review the output of `pulumi preview`, which would clearly indicate a replacement of this resource, before performing a `pulumi up`.
//
// > **NOTE:** This resource requires the New Relic provider to be configured with `region = "EU"` or the `NEW_RELIC_REGION=EU` environment variable.
func (o AwsEuSovereignLinkAccountOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *AwsEuSovereignLinkAccount) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

type AwsEuSovereignLinkAccountArrayOutput struct{ *pulumi.OutputState }

func (AwsEuSovereignLinkAccountArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*AwsEuSovereignLinkAccount)(nil)).Elem()
}

func (o AwsEuSovereignLinkAccountArrayOutput) ToAwsEuSovereignLinkAccountArrayOutput() AwsEuSovereignLinkAccountArrayOutput {
	return o
}

func (o AwsEuSovereignLinkAccountArrayOutput) ToAwsEuSovereignLinkAccountArrayOutputWithContext(ctx context.Context) AwsEuSovereignLinkAccountArrayOutput {
	return o
}

func (o AwsEuSovereignLinkAccountArrayOutput) Index(i pulumi.IntInput) AwsEuSovereignLinkAccountOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *AwsEuSovereignLinkAccount {
		return vs[0].([]*AwsEuSovereignLinkAccount)[vs[1].(int)]
	}).(AwsEuSovereignLinkAccountOutput)
}

type AwsEuSovereignLinkAccountMapOutput struct{ *pulumi.OutputState }

func (AwsEuSovereignLinkAccountMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*AwsEuSovereignLinkAccount)(nil)).Elem()
}

func (o AwsEuSovereignLinkAccountMapOutput) ToAwsEuSovereignLinkAccountMapOutput() AwsEuSovereignLinkAccountMapOutput {
	return o
}

func (o AwsEuSovereignLinkAccountMapOutput) ToAwsEuSovereignLinkAccountMapOutputWithContext(ctx context.Context) AwsEuSovereignLinkAccountMapOutput {
	return o
}

func (o AwsEuSovereignLinkAccountMapOutput) MapIndex(k pulumi.StringInput) AwsEuSovereignLinkAccountOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *AwsEuSovereignLinkAccount {
		return vs[0].(map[string]*AwsEuSovereignLinkAccount)[vs[1].(string)]
	}).(AwsEuSovereignLinkAccountOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*AwsEuSovereignLinkAccountInput)(nil)).Elem(), &AwsEuSovereignLinkAccount{})
	pulumi.RegisterInputType(reflect.TypeOf((*AwsEuSovereignLinkAccountArrayInput)(nil)).Elem(), AwsEuSovereignLinkAccountArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*AwsEuSovereignLinkAccountMapInput)(nil)).Elem(), AwsEuSovereignLinkAccountMap{})
	pulumi.RegisterOutputType(AwsEuSovereignLinkAccountOutput{})
	pulumi.RegisterOutputType(AwsEuSovereignLinkAccountArrayOutput{})
	pulumi.RegisterOutputType(AwsEuSovereignLinkAccountMapOutput{})
}

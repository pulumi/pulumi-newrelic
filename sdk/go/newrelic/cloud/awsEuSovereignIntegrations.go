// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package cloud

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-newrelic/sdk/v5/go/newrelic/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Use this resource to integrate AWS EU Sovereign services with New Relic.
//
// ## Prerequisite
//
// Setup is required for this resource to work properly. This resource assumes you have linked an AWS EU Sovereign account to New Relic.
//
// The New Relic AWS EU Sovereign integration relies on two mechanisms to get data into New Relic:
//
// * **CloudWatch Metric Streams (PUSH)**: This is the supported method for AWS EU Sovereign Cloud to get metrics into New Relic for the majority of AWS services. Follow the [steps outlined here](https://docs-preview.newrelic.com/docs/aws-eu-sovereign-cloud-integration) to set up a metric stream.
//
// * **API Polling (PULL)**: Required for services that are **not supported** by CloudWatch Metric Streams. The following three services must be integrated via API Polling: **Billing**, **CloudTrail** and **X-Ray**. Follow the [steps outlined here](https://docs-preview.newrelic.com/docs/aws-eu-sovereign-cloud-integration).
//
// This resource is used to configure API Polling integrations for those three services that are not available through AWS CloudWatch Metric Streams.
//
// ## Example Usage
//
// The following example demonstrates the use of the `cloud.AwsEuSovereignIntegrations` resource with multiple AWS EU Sovereign integrations supported by the resource.
//
// To view a full example with all supported AWS EU Sovereign integrations, please see the Additional Examples section. Integration blocks used in the resource may also be left empty to use the default configuration of the integration.
//
// A full example, inclusive of setup of AWS resources (from the AWS Terraform Provider) associated with this resource, may be found in our AWS EU Sovereign cloud integration guide.
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-newrelic/sdk/v5/go/newrelic/cloud"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			foo, err := cloud.NewAwsEuSovereignLinkAccount(ctx, "foo", &cloud.AwsEuSovereignLinkAccountArgs{
//				Arn:                  pulumi.String("arn:aws-eusc:iam::123456789012:role/NewRelicInfrastructure-Integrations"),
//				MetricCollectionMode: pulumi.String("PULL"),
//				Name:                 pulumi.String("my-eu-sovereign-account"),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = cloud.NewAwsEuSovereignIntegrations(ctx, "bar", &cloud.AwsEuSovereignIntegrationsArgs{
//				LinkedAccountId: foo.ID(),
//				Billing: &cloud.AwsEuSovereignIntegrationsBillingArgs{
//					MetricsPollingInterval: pulumi.Int(3600),
//				},
//				Cloudtrail: &cloud.AwsEuSovereignIntegrationsCloudtrailArgs{
//					MetricsPollingInterval: pulumi.Int(300),
//					AwsRegions: pulumi.StringArray{
//						pulumi.String("eusc-de-east-1"),
//					},
//				},
//				XRay: &cloud.AwsEuSovereignIntegrationsXRayArgs{
//					MetricsPollingInterval: pulumi.Int(300),
//					AwsRegions: pulumi.StringArray{
//						pulumi.String("eusc-de-east-1"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Supported AWS EU Sovereign Integrations
//
// > **NOTE:** CloudWatch Metric Streams is the only supported method for AWS EU Sovereign Cloud. The following three integrations are for services **not supported by CloudWatch Metric Streams** and must be configured via API Polling using this resource.
//
// <details>
//
//	<summary>Expand this section to view all supported AWS EU Sovereign services that may be integrated via this resource.</summary>
//
// | Block                  | Description                   |
// |------------------------|-------------------------------|
// | `billing`              | Billing Integration           |
// | `cloudtrail`           | CloudTrail Integration        |
// | `xRay`                | X-Ray Integration             |
//
// </details>
//
// ## Additional Examples
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-newrelic/sdk/v5/go/newrelic/cloud"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := cloud.NewAwsEuSovereignIntegrations(ctx, "bar", &cloud.AwsEuSovereignIntegrationsArgs{
//				LinkedAccountId: pulumi.Any(foo.Id),
//				Billing: &cloud.AwsEuSovereignIntegrationsBillingArgs{
//					MetricsPollingInterval: pulumi.Int(300),
//				},
//				Cloudtrail: &cloud.AwsEuSovereignIntegrationsCloudtrailArgs{
//					MetricsPollingInterval: pulumi.Int(900),
//					AwsRegions: pulumi.StringArray{
//						pulumi.String("eusc-de-east-1"),
//					},
//				},
//				XRay: &cloud.AwsEuSovereignIntegrationsXRayArgs{
//					MetricsPollingInterval: pulumi.Int(300),
//					AwsRegions: pulumi.StringArray{
//						pulumi.String("eusc-de-east-1"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Linked AWS EU Sovereign account integrations can be imported using the `id`, e.g.
type AwsEuSovereignIntegrations struct {
	pulumi.CustomResourceState

	// The New Relic account ID to operate on. This allows the user to override the `accountId` attribute set on the provider. Defaults to the environment variable `NEW_RELIC_ACCOUNT_ID`.
	AccountId pulumi.StringOutput `pulumi:"accountId"`
	// Billing integration
	Billing AwsEuSovereignIntegrationsBillingPtrOutput `pulumi:"billing"`
	// CloudTrail integration
	Cloudtrail AwsEuSovereignIntegrationsCloudtrailPtrOutput `pulumi:"cloudtrail"`
	// The ID of the linked AWS EU Sovereign account in New Relic.
	LinkedAccountId pulumi.StringOutput `pulumi:"linkedAccountId"`
	// X-Ray integration
	XRay AwsEuSovereignIntegrationsXRayPtrOutput `pulumi:"xRay"`
}

// NewAwsEuSovereignIntegrations registers a new resource with the given unique name, arguments, and options.
func NewAwsEuSovereignIntegrations(ctx *pulumi.Context,
	name string, args *AwsEuSovereignIntegrationsArgs, opts ...pulumi.ResourceOption) (*AwsEuSovereignIntegrations, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.LinkedAccountId == nil {
		return nil, errors.New("invalid value for required argument 'LinkedAccountId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource AwsEuSovereignIntegrations
	err := ctx.RegisterResource("newrelic:cloud/awsEuSovereignIntegrations:AwsEuSovereignIntegrations", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetAwsEuSovereignIntegrations gets an existing AwsEuSovereignIntegrations resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetAwsEuSovereignIntegrations(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *AwsEuSovereignIntegrationsState, opts ...pulumi.ResourceOption) (*AwsEuSovereignIntegrations, error) {
	var resource AwsEuSovereignIntegrations
	err := ctx.ReadResource("newrelic:cloud/awsEuSovereignIntegrations:AwsEuSovereignIntegrations", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering AwsEuSovereignIntegrations resources.
type awsEuSovereignIntegrationsState struct {
	// The New Relic account ID to operate on. This allows the user to override the `accountId` attribute set on the provider. Defaults to the environment variable `NEW_RELIC_ACCOUNT_ID`.
	AccountId *string `pulumi:"accountId"`
	// Billing integration
	Billing *AwsEuSovereignIntegrationsBilling `pulumi:"billing"`
	// CloudTrail integration
	Cloudtrail *AwsEuSovereignIntegrationsCloudtrail `pulumi:"cloudtrail"`
	// The ID of the linked AWS EU Sovereign account in New Relic.
	LinkedAccountId *string `pulumi:"linkedAccountId"`
	// X-Ray integration
	XRay *AwsEuSovereignIntegrationsXRay `pulumi:"xRay"`
}

type AwsEuSovereignIntegrationsState struct {
	// The New Relic account ID to operate on. This allows the user to override the `accountId` attribute set on the provider. Defaults to the environment variable `NEW_RELIC_ACCOUNT_ID`.
	AccountId pulumi.StringPtrInput
	// Billing integration
	Billing AwsEuSovereignIntegrationsBillingPtrInput
	// CloudTrail integration
	Cloudtrail AwsEuSovereignIntegrationsCloudtrailPtrInput
	// The ID of the linked AWS EU Sovereign account in New Relic.
	LinkedAccountId pulumi.StringPtrInput
	// X-Ray integration
	XRay AwsEuSovereignIntegrationsXRayPtrInput
}

func (AwsEuSovereignIntegrationsState) ElementType() reflect.Type {
	return reflect.TypeOf((*awsEuSovereignIntegrationsState)(nil)).Elem()
}

type awsEuSovereignIntegrationsArgs struct {
	// The New Relic account ID to operate on. This allows the user to override the `accountId` attribute set on the provider. Defaults to the environment variable `NEW_RELIC_ACCOUNT_ID`.
	AccountId *string `pulumi:"accountId"`
	// Billing integration
	Billing *AwsEuSovereignIntegrationsBilling `pulumi:"billing"`
	// CloudTrail integration
	Cloudtrail *AwsEuSovereignIntegrationsCloudtrail `pulumi:"cloudtrail"`
	// The ID of the linked AWS EU Sovereign account in New Relic.
	LinkedAccountId string `pulumi:"linkedAccountId"`
	// X-Ray integration
	XRay *AwsEuSovereignIntegrationsXRay `pulumi:"xRay"`
}

// The set of arguments for constructing a AwsEuSovereignIntegrations resource.
type AwsEuSovereignIntegrationsArgs struct {
	// The New Relic account ID to operate on. This allows the user to override the `accountId` attribute set on the provider. Defaults to the environment variable `NEW_RELIC_ACCOUNT_ID`.
	AccountId pulumi.StringPtrInput
	// Billing integration
	Billing AwsEuSovereignIntegrationsBillingPtrInput
	// CloudTrail integration
	Cloudtrail AwsEuSovereignIntegrationsCloudtrailPtrInput
	// The ID of the linked AWS EU Sovereign account in New Relic.
	LinkedAccountId pulumi.StringInput
	// X-Ray integration
	XRay AwsEuSovereignIntegrationsXRayPtrInput
}

func (AwsEuSovereignIntegrationsArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*awsEuSovereignIntegrationsArgs)(nil)).Elem()
}

type AwsEuSovereignIntegrationsInput interface {
	pulumi.Input

	ToAwsEuSovereignIntegrationsOutput() AwsEuSovereignIntegrationsOutput
	ToAwsEuSovereignIntegrationsOutputWithContext(ctx context.Context) AwsEuSovereignIntegrationsOutput
}

func (*AwsEuSovereignIntegrations) ElementType() reflect.Type {
	return reflect.TypeOf((**AwsEuSovereignIntegrations)(nil)).Elem()
}

func (i *AwsEuSovereignIntegrations) ToAwsEuSovereignIntegrationsOutput() AwsEuSovereignIntegrationsOutput {
	return i.ToAwsEuSovereignIntegrationsOutputWithContext(context.Background())
}

func (i *AwsEuSovereignIntegrations) ToAwsEuSovereignIntegrationsOutputWithContext(ctx context.Context) AwsEuSovereignIntegrationsOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AwsEuSovereignIntegrationsOutput)
}

// AwsEuSovereignIntegrationsArrayInput is an input type that accepts AwsEuSovereignIntegrationsArray and AwsEuSovereignIntegrationsArrayOutput values.
// You can construct a concrete instance of `AwsEuSovereignIntegrationsArrayInput` via:
//
//	AwsEuSovereignIntegrationsArray{ AwsEuSovereignIntegrationsArgs{...} }
type AwsEuSovereignIntegrationsArrayInput interface {
	pulumi.Input

	ToAwsEuSovereignIntegrationsArrayOutput() AwsEuSovereignIntegrationsArrayOutput
	ToAwsEuSovereignIntegrationsArrayOutputWithContext(context.Context) AwsEuSovereignIntegrationsArrayOutput
}

type AwsEuSovereignIntegrationsArray []AwsEuSovereignIntegrationsInput

func (AwsEuSovereignIntegrationsArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*AwsEuSovereignIntegrations)(nil)).Elem()
}

func (i AwsEuSovereignIntegrationsArray) ToAwsEuSovereignIntegrationsArrayOutput() AwsEuSovereignIntegrationsArrayOutput {
	return i.ToAwsEuSovereignIntegrationsArrayOutputWithContext(context.Background())
}

func (i AwsEuSovereignIntegrationsArray) ToAwsEuSovereignIntegrationsArrayOutputWithContext(ctx context.Context) AwsEuSovereignIntegrationsArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AwsEuSovereignIntegrationsArrayOutput)
}

// AwsEuSovereignIntegrationsMapInput is an input type that accepts AwsEuSovereignIntegrationsMap and AwsEuSovereignIntegrationsMapOutput values.
// You can construct a concrete instance of `AwsEuSovereignIntegrationsMapInput` via:
//
//	AwsEuSovereignIntegrationsMap{ "key": AwsEuSovereignIntegrationsArgs{...} }
type AwsEuSovereignIntegrationsMapInput interface {
	pulumi.Input

	ToAwsEuSovereignIntegrationsMapOutput() AwsEuSovereignIntegrationsMapOutput
	ToAwsEuSovereignIntegrationsMapOutputWithContext(context.Context) AwsEuSovereignIntegrationsMapOutput
}

type AwsEuSovereignIntegrationsMap map[string]AwsEuSovereignIntegrationsInput

func (AwsEuSovereignIntegrationsMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*AwsEuSovereignIntegrations)(nil)).Elem()
}

func (i AwsEuSovereignIntegrationsMap) ToAwsEuSovereignIntegrationsMapOutput() AwsEuSovereignIntegrationsMapOutput {
	return i.ToAwsEuSovereignIntegrationsMapOutputWithContext(context.Background())
}

func (i AwsEuSovereignIntegrationsMap) ToAwsEuSovereignIntegrationsMapOutputWithContext(ctx context.Context) AwsEuSovereignIntegrationsMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AwsEuSovereignIntegrationsMapOutput)
}

type AwsEuSovereignIntegrationsOutput struct{ *pulumi.OutputState }

func (AwsEuSovereignIntegrationsOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**AwsEuSovereignIntegrations)(nil)).Elem()
}

func (o AwsEuSovereignIntegrationsOutput) ToAwsEuSovereignIntegrationsOutput() AwsEuSovereignIntegrationsOutput {
	return o
}

func (o AwsEuSovereignIntegrationsOutput) ToAwsEuSovereignIntegrationsOutputWithContext(ctx context.Context) AwsEuSovereignIntegrationsOutput {
	return o
}

// The New Relic account ID to operate on. This allows the user to override the `accountId` attribute set on the provider. Defaults to the environment variable `NEW_RELIC_ACCOUNT_ID`.
func (o AwsEuSovereignIntegrationsOutput) AccountId() pulumi.StringOutput {
	return o.ApplyT(func(v *AwsEuSovereignIntegrations) pulumi.StringOutput { return v.AccountId }).(pulumi.StringOutput)
}

// Billing integration
func (o AwsEuSovereignIntegrationsOutput) Billing() AwsEuSovereignIntegrationsBillingPtrOutput {
	return o.ApplyT(func(v *AwsEuSovereignIntegrations) AwsEuSovereignIntegrationsBillingPtrOutput { return v.Billing }).(AwsEuSovereignIntegrationsBillingPtrOutput)
}

// CloudTrail integration
func (o AwsEuSovereignIntegrationsOutput) Cloudtrail() AwsEuSovereignIntegrationsCloudtrailPtrOutput {
	return o.ApplyT(func(v *AwsEuSovereignIntegrations) AwsEuSovereignIntegrationsCloudtrailPtrOutput { return v.Cloudtrail }).(AwsEuSovereignIntegrationsCloudtrailPtrOutput)
}

// The ID of the linked AWS EU Sovereign account in New Relic.
func (o AwsEuSovereignIntegrationsOutput) LinkedAccountId() pulumi.StringOutput {
	return o.ApplyT(func(v *AwsEuSovereignIntegrations) pulumi.StringOutput { return v.LinkedAccountId }).(pulumi.StringOutput)
}

// X-Ray integration
func (o AwsEuSovereignIntegrationsOutput) XRay() AwsEuSovereignIntegrationsXRayPtrOutput {
	return o.ApplyT(func(v *AwsEuSovereignIntegrations) AwsEuSovereignIntegrationsXRayPtrOutput { return v.XRay }).(AwsEuSovereignIntegrationsXRayPtrOutput)
}

type AwsEuSovereignIntegrationsArrayOutput struct{ *pulumi.OutputState }

func (AwsEuSovereignIntegrationsArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*AwsEuSovereignIntegrations)(nil)).Elem()
}

func (o AwsEuSovereignIntegrationsArrayOutput) ToAwsEuSovereignIntegrationsArrayOutput() AwsEuSovereignIntegrationsArrayOutput {
	return o
}

func (o AwsEuSovereignIntegrationsArrayOutput) ToAwsEuSovereignIntegrationsArrayOutputWithContext(ctx context.Context) AwsEuSovereignIntegrationsArrayOutput {
	return o
}

func (o AwsEuSovereignIntegrationsArrayOutput) Index(i pulumi.IntInput) AwsEuSovereignIntegrationsOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *AwsEuSovereignIntegrations {
		return vs[0].([]*AwsEuSovereignIntegrations)[vs[1].(int)]
	}).(AwsEuSovereignIntegrationsOutput)
}

type AwsEuSovereignIntegrationsMapOutput struct{ *pulumi.OutputState }

func (AwsEuSovereignIntegrationsMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*AwsEuSovereignIntegrations)(nil)).Elem()
}

func (o AwsEuSovereignIntegrationsMapOutput) ToAwsEuSovereignIntegrationsMapOutput() AwsEuSovereignIntegrationsMapOutput {
	return o
}

func (o AwsEuSovereignIntegrationsMapOutput) ToAwsEuSovereignIntegrationsMapOutputWithContext(ctx context.Context) AwsEuSovereignIntegrationsMapOutput {
	return o
}

func (o AwsEuSovereignIntegrationsMapOutput) MapIndex(k pulumi.StringInput) AwsEuSovereignIntegrationsOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *AwsEuSovereignIntegrations {
		return vs[0].(map[string]*AwsEuSovereignIntegrations)[vs[1].(string)]
	}).(AwsEuSovereignIntegrationsOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*AwsEuSovereignIntegrationsInput)(nil)).Elem(), &AwsEuSovereignIntegrations{})
	pulumi.RegisterInputType(reflect.TypeOf((*AwsEuSovereignIntegrationsArrayInput)(nil)).Elem(), AwsEuSovereignIntegrationsArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*AwsEuSovereignIntegrationsMapInput)(nil)).Elem(), AwsEuSovereignIntegrationsMap{})
	pulumi.RegisterOutputType(AwsEuSovereignIntegrationsOutput{})
	pulumi.RegisterOutputType(AwsEuSovereignIntegrationsArrayOutput{})
	pulumi.RegisterOutputType(AwsEuSovereignIntegrationsMapOutput{})
}

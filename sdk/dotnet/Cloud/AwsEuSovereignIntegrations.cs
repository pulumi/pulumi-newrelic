// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.NewRelic.Cloud
{
    /// <summary>
    /// Use this resource to integrate AWS EU Sovereign services with New Relic.
    /// 
    /// ## Prerequisite
    /// 
    /// Setup is required for this resource to work properly. This resource assumes you have linked an AWS EU Sovereign account to New Relic.
    /// 
    /// The New Relic AWS EU Sovereign integration relies on two mechanisms to get data into New Relic:
    /// 
    /// * **CloudWatch Metric Streams (PUSH)**: This is the supported method for AWS EU Sovereign Cloud to get metrics into New Relic for the majority of AWS services. Follow the [steps outlined here](https://docs-preview.newrelic.com/docs/aws-eu-sovereign-cloud-integration) to set up a metric stream.
    /// 
    /// * **API Polling (PULL)**: Required for services that are **not supported** by CloudWatch Metric Streams. The following three services must be integrated via API Polling: **Billing**, **CloudTrail** and **X-Ray**. Follow the [steps outlined here](https://docs-preview.newrelic.com/docs/aws-eu-sovereign-cloud-integration).
    /// 
    /// This resource is used to configure API Polling integrations for those three services that are not available through AWS CloudWatch Metric Streams.
    /// 
    /// ## Example Usage
    /// 
    /// The following example demonstrates the use of the `newrelic.cloud.AwsEuSovereignIntegrations` resource with multiple AWS EU Sovereign integrations supported by the resource.
    /// 
    /// To view a full example with all supported AWS EU Sovereign integrations, please see the Additional Examples section. Integration blocks used in the resource may also be left empty to use the default configuration of the integration.
    /// 
    /// A full example, inclusive of setup of AWS resources (from the AWS Terraform Provider) associated with this resource, may be found in our AWS EU Sovereign cloud integration guide.
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using NewRelic = Pulumi.NewRelic;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var foo = new NewRelic.Cloud.AwsEuSovereignLinkAccount("foo", new()
    ///     {
    ///         Arn = "arn:aws-eusc:iam::123456789012:role/NewRelicInfrastructure-Integrations",
    ///         MetricCollectionMode = "PULL",
    ///         Name = "my-eu-sovereign-account",
    ///     });
    /// 
    ///     var bar = new NewRelic.Cloud.AwsEuSovereignIntegrations("bar", new()
    ///     {
    ///         LinkedAccountId = foo.Id,
    ///         Billing = new NewRelic.Cloud.Inputs.AwsEuSovereignIntegrationsBillingArgs
    ///         {
    ///             MetricsPollingInterval = 3600,
    ///         },
    ///         Cloudtrail = new NewRelic.Cloud.Inputs.AwsEuSovereignIntegrationsCloudtrailArgs
    ///         {
    ///             MetricsPollingInterval = 300,
    ///             AwsRegions = new[]
    ///             {
    ///                 "eusc-de-east-1",
    ///             },
    ///         },
    ///         XRay = new NewRelic.Cloud.Inputs.AwsEuSovereignIntegrationsXRayArgs
    ///         {
    ///             MetricsPollingInterval = 300,
    ///             AwsRegions = new[]
    ///             {
    ///                 "eusc-de-east-1",
    ///             },
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ## Supported AWS EU Sovereign Integrations
    /// 
    /// &gt; **NOTE:** CloudWatch Metric Streams is the only supported method for AWS EU Sovereign Cloud. The following three integrations are for services **not supported by CloudWatch Metric Streams** and must be configured via API Polling using this resource.
    /// 
    /// &lt;details&gt;
    ///   &lt;summary&gt;Expand this section to view all supported AWS EU Sovereign services that may be integrated via this resource.&lt;/summary&gt;
    /// 
    /// | Block                  | Description                   |
    /// |------------------------|-------------------------------|
    /// | `Billing`              | Billing Integration           |
    /// | `Cloudtrail`           | CloudTrail Integration        |
    /// | `XRay`                | X-Ray Integration             |
    /// 
    /// &lt;/details&gt;
    /// 
    /// ## Additional Examples
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using NewRelic = Pulumi.NewRelic;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var bar = new NewRelic.Cloud.AwsEuSovereignIntegrations("bar", new()
    ///     {
    ///         LinkedAccountId = foo.Id,
    ///         Billing = new NewRelic.Cloud.Inputs.AwsEuSovereignIntegrationsBillingArgs
    ///         {
    ///             MetricsPollingInterval = 300,
    ///         },
    ///         Cloudtrail = new NewRelic.Cloud.Inputs.AwsEuSovereignIntegrationsCloudtrailArgs
    ///         {
    ///             MetricsPollingInterval = 900,
    ///             AwsRegions = new[]
    ///             {
    ///                 "eusc-de-east-1",
    ///             },
    ///         },
    ///         XRay = new NewRelic.Cloud.Inputs.AwsEuSovereignIntegrationsXRayArgs
    ///         {
    ///             MetricsPollingInterval = 300,
    ///             AwsRegions = new[]
    ///             {
    ///                 "eusc-de-east-1",
    ///             },
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ## Import
    /// 
    /// Linked AWS EU Sovereign account integrations can be imported using the `Id`, e.g.
    /// 
    /// ```sh
    /// $ pulumi import newrelic:cloud/awsEuSovereignIntegrations:AwsEuSovereignIntegrations foo &lt;id&gt;
    /// ```
    /// </summary>
    [NewRelicResourceType("newrelic:cloud/awsEuSovereignIntegrations:AwsEuSovereignIntegrations")]
    public partial class AwsEuSovereignIntegrations : global::Pulumi.CustomResource
    {
        /// <summary>
        /// The New Relic account ID to operate on. This allows the user to override the `AccountId` attribute set on the provider. Defaults to the environment variable `NEW_RELIC_ACCOUNT_ID`.
        /// </summary>
        [Output("accountId")]
        public Output<string> AccountId { get; private set; } = null!;

        /// <summary>
        /// Billing integration
        /// </summary>
        [Output("billing")]
        public Output<Outputs.AwsEuSovereignIntegrationsBilling?> Billing { get; private set; } = null!;

        /// <summary>
        /// CloudTrail integration
        /// </summary>
        [Output("cloudtrail")]
        public Output<Outputs.AwsEuSovereignIntegrationsCloudtrail?> Cloudtrail { get; private set; } = null!;

        /// <summary>
        /// The ID of the linked AWS EU Sovereign account in New Relic.
        /// </summary>
        [Output("linkedAccountId")]
        public Output<string> LinkedAccountId { get; private set; } = null!;

        /// <summary>
        /// X-Ray integration
        /// </summary>
        [Output("xRay")]
        public Output<Outputs.AwsEuSovereignIntegrationsXRay?> XRay { get; private set; } = null!;


        /// <summary>
        /// Create a AwsEuSovereignIntegrations resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public AwsEuSovereignIntegrations(string name, AwsEuSovereignIntegrationsArgs args, CustomResourceOptions? options = null)
            : base("newrelic:cloud/awsEuSovereignIntegrations:AwsEuSovereignIntegrations", name, args ?? new AwsEuSovereignIntegrationsArgs(), MakeResourceOptions(options, ""))
        {
        }

        private AwsEuSovereignIntegrations(string name, Input<string> id, AwsEuSovereignIntegrationsState? state = null, CustomResourceOptions? options = null)
            : base("newrelic:cloud/awsEuSovereignIntegrations:AwsEuSovereignIntegrations", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing AwsEuSovereignIntegrations resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static AwsEuSovereignIntegrations Get(string name, Input<string> id, AwsEuSovereignIntegrationsState? state = null, CustomResourceOptions? options = null)
        {
            return new AwsEuSovereignIntegrations(name, id, state, options);
        }
    }

    public sealed class AwsEuSovereignIntegrationsArgs : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// The New Relic account ID to operate on. This allows the user to override the `AccountId` attribute set on the provider. Defaults to the environment variable `NEW_RELIC_ACCOUNT_ID`.
        /// </summary>
        [Input("accountId")]
        public Input<string>? AccountId { get; set; }

        /// <summary>
        /// Billing integration
        /// </summary>
        [Input("billing")]
        public Input<Inputs.AwsEuSovereignIntegrationsBillingArgs>? Billing { get; set; }

        /// <summary>
        /// CloudTrail integration
        /// </summary>
        [Input("cloudtrail")]
        public Input<Inputs.AwsEuSovereignIntegrationsCloudtrailArgs>? Cloudtrail { get; set; }

        /// <summary>
        /// The ID of the linked AWS EU Sovereign account in New Relic.
        /// </summary>
        [Input("linkedAccountId", required: true)]
        public Input<string> LinkedAccountId { get; set; } = null!;

        /// <summary>
        /// X-Ray integration
        /// </summary>
        [Input("xRay")]
        public Input<Inputs.AwsEuSovereignIntegrationsXRayArgs>? XRay { get; set; }

        public AwsEuSovereignIntegrationsArgs()
        {
        }
        public static new AwsEuSovereignIntegrationsArgs Empty => new AwsEuSovereignIntegrationsArgs();
    }

    public sealed class AwsEuSovereignIntegrationsState : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// The New Relic account ID to operate on. This allows the user to override the `AccountId` attribute set on the provider. Defaults to the environment variable `NEW_RELIC_ACCOUNT_ID`.
        /// </summary>
        [Input("accountId")]
        public Input<string>? AccountId { get; set; }

        /// <summary>
        /// Billing integration
        /// </summary>
        [Input("billing")]
        public Input<Inputs.AwsEuSovereignIntegrationsBillingGetArgs>? Billing { get; set; }

        /// <summary>
        /// CloudTrail integration
        /// </summary>
        [Input("cloudtrail")]
        public Input<Inputs.AwsEuSovereignIntegrationsCloudtrailGetArgs>? Cloudtrail { get; set; }

        /// <summary>
        /// The ID of the linked AWS EU Sovereign account in New Relic.
        /// </summary>
        [Input("linkedAccountId")]
        public Input<string>? LinkedAccountId { get; set; }

        /// <summary>
        /// X-Ray integration
        /// </summary>
        [Input("xRay")]
        public Input<Inputs.AwsEuSovereignIntegrationsXRayGetArgs>? XRay { get; set; }

        public AwsEuSovereignIntegrationsState()
        {
        }
        public static new AwsEuSovereignIntegrationsState Empty => new AwsEuSovereignIntegrationsState();
    }
}
